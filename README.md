# db-n-web
Проект для дисциплин “Введение в системы баз данных” и “Технологии Интернет и WEB-программирования”.
Проект является групповым, участники: *Борисова Елена* и *Радькова Ирина* (20.Б12-пу).
# Описание
Онлайн-блокнот для совместного написания конспектов, нацеленный на подготовку к экзаменам. В конечном итоге они могут представлять собой краткое изложение всего курса и использоваться для закрепления изученного материала при подготовке к экзаменам.
## Наименование
Exam.me
## Предметная область
Онлайн-конспекты, составленные по примерным спискам экзаменационных вопросов (статья является ответом на один из вопросов списка). 
# Навигация
- Данные
  - [Ограничения](#для-каждого-элемента-данных---ограничения)
  - [Общие ограничения целостности](#общие-ограничения-целостности)
  - [Пользовательские роли](#пользовательские-роли)
- Описание основных функций
  - [Создание и управление академической группой](#1-создание-и-управление-академической-группой)
  - [Присоединение к академической группе](#2-присоединение-к-академической-группе)
  - [Управление списком вопросов](#3-управление-списком-вопросов)
  - [Добавление нового ответа в список вопросов](#4-добавление-нового-ответа-в-список-вопросов)
  - [Редактирование ответа](#5-редактирование-ответа)
  - [Восстановление версии ответа](#6-восстановление-версии-ответа)
  - [Удаление ответа из списка](#7-удаление-ответа-из-списка)
  - [Приглашения](#8-приглашения)
  - [Блокирование участника группы](#9-блокирование-участника-группы)
  - [Комментарии](#10-комментарии)
- [Техническая часть](#техническая-часть)
# Данные
![image](https://user-images.githubusercontent.com/63803498/200639952-977abf75-da93-4747-bd1b-c9ecb2479bac.png)
- User - информация о пользователях
- Blacklist - чёрный список для нарушителей правил сайта
- Group - информация об академических группах
- Faculty - информация о факультете
- Program - информация об образовательной программе
- Invite - список приглашённых групп с разными уровнями доступа (0 - только просмотр, 1 - просмотр и редактирование)
- List - список экзаменационных вопросов
- Subject - информация о предметах
- Question - актуальная статья-ответ на один из вопросов списка
- Versioned - хранилище всех версий статьи-ответа
- Comments - секция комментариев
## Для каждого элемента данных - ограничения
### User
- `user_login` должен быть уникальным
- `group_id` по умолчанию null
### Blacklist
- `block_level` может принимать значение 1 или 2
    - 1 - пользователь не сможет редактировать ни один ответ из списков, которым владеет группа-блокировщик
    - 2 - пользователь не сможет ни редактировать ответы, ни оставлять комментарии к ответам группы-блокировщика (например, в случае обнаружения спама)
### Invite
- `access_level` может принимать значение 1 или 2
    - 1 - участники приглашённой группы имеют право только просматривать ответы из расшаренного списка вопросов
    - 2 - участники приглашённой группы имеют право просматривать и редактировать ответы из расшаренного списка вопросов
    - вне зависимости от уровня доступа участники приглашённой группы имеют право оставлять комментарии под ответами
### List
- `is_public` может принимать значение 0 или 1
    - 0 (по умолчанию) - список доступен только группе-владельцу и приглашённым группам
    - 1 - список доступен для просмотра всем посетителям сайта
### Question
- пара `list_id` и `question_order` должна быть уникальной (чтобы предотвратить добавление одного и того же вопроса в данный список)
- `question_body` по умолчанию null
### Comments
- `parent_id` по умолчанию null

[Оглавление](#навигация)
## Общие ограничения целостности
- К одному факультету и образовательной программе могут относиться нуль (если не была создана ни одна группа) или несколько групп
- К одной академической группе относится хотя бы один пользователь (и по умолчанию этот пользователь считается старостой, администратором группы)
- Один пользователь может состоять в не более чем одной группе (допускается отсутствие группы; в таком случае он имеет право пользоваться общедоступными наборами статей без права редактирования и оставлять комментарии к вопросам)
- Академическая группа может иметь нуль и более списков вопросов
- К одному предмету могут относиться нуль или несколько списков вопросов
- Список вопросов должен содержать хотя бы один вопрос
- Один вопрос может иметь несколько комментариев
- Один пользователь может оставлять несколько комментариев
- Каждая версия статьи сохраняется в таблице Versioned; самая последняя является актуальной и принадлежит таблице Question
- Доступ к конкретному списку вопросов (как для чтения, так и редактирования в зависимости от уровня доступа) может быть получен несколькими группами
- Один пользователь может быть заблокирован несколькими группами

[Оглавление](#навигация)
## Пользовательские роли
- Староста академической группы (Group Admin):
    - (Если группа является владельцем списка) удалять ответы из списка вопросов
    - Предоставить другим группам доступ к просмотру/редактированию конкретного списка вопросов
    - Сделать список вопросов общедоступным (могут просматривать все посетители сайта)
    - Блокировать участникам группы доступ к редактированию (или даже комментированию) статей
        - Также он может блокировать участников приглашённой группы (староста приглашённой группы не имеет такого права)
    - Просматривать и восстанавливать необходимую версию ответа в случае порчи самой актуальной версии
    - Передавать свои полномочия другим участникам группы (один староста может передать свои полномочия одному человеку на постоянной основе)
    - Удалять пользователей из студенческой группы
- Пользователь (User)
    - (Если состоит в группе и не заблокирован группой-владельцем ответа) редактировать ответ
    - Добавлять ответ в список вопросов
    - (Если не заблокирован группой-владельцем ответа) оставлять комментарии к ответам
- Неавторизированный пользователь
    - Просмотр общедоступных списков вопросов (без права комментирования)

[Оглавление](#навигация)
# Описание основных функций
### 1. Создание и управление академической группой
Любой пользователь может создать академическую группу, в которой по умолчанию будет иметь роль старосты. При создании пользователь указывает:
- Название группы (которое не обязательно является уникальным)
- К какому факультету относится группа (впоследствии не может быть изменено)
- К какой образовательной программе относится группа (впоследствии не может быть изменено)
- Номер курса

Управление академической группой предполагает:
- Контроль состава участников группы (в случае обнаружения старостой посторонних лиц, он имеет право исключить их из группы)
- Контроль актуальной информации о номере курса
- Создание и управление списками экзаменационных вопросов (см. ["Управление Списком Вопросов"](#3-управление-списком-вопросов))

[Оглавление](#навигация)
### 2. Присоединение к академической группе
Любой пользователь может присоединиться к академической группе, введя название группы. Учитывая, что несколько академических групп могут иметь схожие названия, пользователь может просмотреть участников группы и определить для себя, к какой группе ему нужно присоединиться.

[Оглавление](#навигация)
### 3. Управление списком вопросов
Только староста академической группы может создавать списки экзаменационных вопросов и в дальнейшем управлять ими. 
При создании списка староста обязан указать, к какому предмету относится создаваемый список. Также староста должен определить, будет ли список доступен всем посетителям сайта (данный параметр может быть изменён впоследствии).  
Управление списком вопросов - контроль за качеством наполнения списка. Староста должен следить за тем, чтобы содержание добавляемых ответов соответствовало сути вопроса. В случае, если будет обнаружено несоответсвие (порча ответа), староста имеет право:
- Выбрать альтернативную версию ответа, если таковая существует (см. ["Восстановление Версии Ответа"](#6-восстановление-версии-ответа))
- Полностью удалить ответ из списка (см. ["Удаление Ответа из Списка"](#7-удаление-ответа-из-списка))

[Оглавление](#навигация)
### 4. Добавление нового ответа в список вопросов
Любой незаблокированный участник группы может добавить в список ответ на вопрос. При этом участник должен:
- Написать формулировку вопроса
- Написать ответ на вопрос
- Задать порядок вопроса в списке (рекомендуется располагать вопросы в той же последовательности, в какой они даны в фактическом списке экзаменационных вопросов)
При попытке создать дубликат вопроса (т.е. когда два вопроса имеют один порядок или одинаковое название), система сообщает пользователю, что такой вопрос уже есть, и просит его редактировать то, что имеется. 

[Оглавление](#навигация)
### 5. Редактирование ответа
Любой незаблокированный участник группы может отредактировать ответ на вопрос.  
Редактирование ответа на вопрос предоставляет следующие возможности:
- Изменение порядка вопроса
- Изменение названия вопроса
- Изменение ответа на вопрос

[Оглавление](#навигация)
### 6. Восстановление версии ответа
Данной возможностью обладает только староста группы и только тогда, когда ответ находится в одном из списков, созданном этой группой. Староста может просмотреть все версии данного ответа на вопрос. Ему доступны:
- Дата сохранения просматриваемой версии
- Автор просматриваемой версии
- Прочее содержание версии
В том случае, если самая актуальная версия ответа на вопрос была испорчена, староста делает актуальной одну из предыдущих версий. Более того, староста может заблокировать автора "испорченной версии" (см. ["Блокирование Участника Группы"](#9-блокирование-участника-группы))

[Оглавление](#навигация)
### 7. Удаление ответа из списка
Может произойти так, что один или несколько вопросов не появятся на экзамене. Или в список был добавлен вопрос, который не относится к этому предмету или экзамену. В таком случае он может быть удалён из списка только старостой группы. При удалении порядок остальных вопросов не изменяется. При этом вместе с актуальной версией вопроса удаляются все предыдущие версии.

[Оглавление](#навигация)
### 8. Приглашения
Любая академическая группа может поделиться своими списками вопросов с другой академической группой. Возможностью приглашения обладает только староста.  
Группа-гость может иметь 2 уровня доступа:
- Только чтение: участники приглашённой группы могут просматривать ответы на вопросы из расшаренного списка и оставлять к ним комментарии
- Чтение и редактирование: участники приглашённой группы могут просматривать ответы на вопросы и редактировать их (но не добавлять!); сохраняется возможность комментирования  

Староста группы-хоста может отозвать приглашение в любой момент. Также только он имеет право блокировать участников группы-гостя.

[Оглавление](#навигация)
### 9. Блокирование участника группы
В случае обнаружения нарушителей, староста может прибегнуть к блокировке участника, оставляя его в группе, но с ограничениями. Уровень блокировки обуславливает возможности, которые остаются у заблокированного участника. А именно:
- Уровень 1: участник всё ещё имеет право комментировать ответы на вопросы, но лишается права редактировать какие-либо ответы
- Уровень 2: участник не имеет возможности комментирования и редактирования; доступен только просмотр ответов  
При этом только староста может разблокировать участника.

[Оглавление](#навигация)
### 10. Комментарии
Все зарегистрированные в системе пользователи имеют возможность комментирования. Комментарии оставляются исключительно к вопросам и могут предполагать ответ. 

[Оглавление](#навигация)
# Техническая часть
## UI/API
*Будет дополнено позже.*
## Технологии разработки
### Язык программирования
*Будет дополнено позже.*
### Библиотеки и фреймворки
*Будет дополнено позже.*
### СУБД
MySQL
## Тестирование
*Будет дополнено позже.*
